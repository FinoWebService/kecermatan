<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>CAT Kecermatan</title>

<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- LOGIN -->
<div class="login" id="login">

    <h2>CAT Kecermatan Kedinasan</h2>

    <p>Masukkan Nama</p>

    <input type="text" id="nameInput" placeholder="Nama Lengkap">

    <br>

    <button onclick="startExam()">Mulai Ujian</button>

</div>


<!-- UJIAN -->
<div class="wrapper" id="exam">

<div id="userName"></div>

<div class="header">

    <div class="title-box">
        Tahap Ujian :
        <b>KECERMATAN</b>
    </div>

    <div class="timer-box">
        <span>Sisa Waktu</span>
        <div id="timer">01:00</div>
    </div>

</div>

<div class="main">

    <div id="stageInfo"></div>

    <div class="mapping" id="mapping"></div>

    <div class="question-box" id="question"></div>

    <div class="answer-box" id="buttons"></div>

    <div class="info">
        Soal: <span id="count">0</span>/50
    </div>

    <div id="result"></div>

</div>

</div>


<script src="script.js"></script>
<script type="module">

  // Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

  // Config Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBvAuX66peHvmpKtvdh9MIk9Em3WnxDLLU",
    authDomain: "cat-kecermatan-cb9d1.firebaseapp.com",
    projectId: "cat-kecermatan-cb9d1",
    storageBucket: "cat-kecermatan-cb9d1.firebasestorage.app",
    messagingSenderId: "1081198055610",
    appId: "1:1081198055610:web:d5e9de4f650d86fce57283",
    measurementId: "G-6F8G5PN134"
  };

  // Init Firebase
  const app = initializeApp(firebaseConfig);

  // Init Database
  const db = getFirestore(app);

  // =============================
  // TEST SIMPAN DATA
  // =============================

  async function testSimpan(){

    try {
      await addDoc(collection(db, "hasilTes"), {
        nama: "Tes User",
        nilai: 100,
        waktu: new Date()
      });

      console.log("Data berhasil disimpan!");

    } catch (e) {
      console.error("Error:", e);
    }

  }

  // Jalankan test
  testSimpan();

</script>

</body>
</html>
